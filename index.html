<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0d6efd" />
  <title>Portfolio · Tomás Romero Cejudo (Bootstrap)</title>
  <link rel="icon" type="image/png" href="esiiab.png" />
  <!-- Bootstrap CSS (CDN oficial sin integrity para evitar hashes incorrectos) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f2f4f7; }
    .hero-img { max-width: 180px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,.15); }
    .section-title { margin-top: 2.5rem; margin-bottom: 1rem; }
    .tech-badge { font-size: .85rem; }
    footer small { color: #6c757d; }
  </style>
</head>
<body>
  <!-- Removed autoplay to avoid browser blocking; added controls for testing -->
  <audio id="bg-audio" src="cold-sad-pianos-150019.mp3" controls preload="auto"></audio>

  <!-- Audio controls UI (you can keep or remove; it will work with the <audio> element) -->
  <div id="audio-controls" class="position-fixed d-flex flex-column align-items-end gap-2" style="top:1rem; right:1rem; z-index:1080;">
    <button id="audio-toggle" type="button" class="btn btn-sm btn-outline-secondary">Silenciar</button>
    <div class="card p-2 shadow-sm" style="min-width:140px;">
      <label for="audio-volume" class="form-label mb-1 small">Volumen <span id="vol-label">20%</span></label>
      <input type="range" id="audio-volume" class="form-range" min="0" max="1" step="0.01" value="0.2">
    </div>
  </div>

  <script>
    (function(){
      const audio = document.getElementById('bg-audio');
      const btn = document.getElementById('audio-toggle');
      const volSlider = document.getElementById('audio-volume');
      const volLabel = document.getElementById('vol-label');
      const LS_KEY_MUTED = 'bgAudioMuted';
      const LS_KEY_VOL = 'bgAudioVolume';

      // Cargar estado previo
      let storedVol = localStorage.getItem(LS_KEY_VOL);
      if(storedVol !== null) {
        const vol = Math.min(1, Math.max(0, parseFloat(storedVol)));
        audio.volume = vol;
        volSlider.value = vol;
      } else {
        audio.volume = 0.2; // valor inicial
        volSlider.value = 0.2;
      }
      volLabel.textContent = Math.round(audio.volume * 100) + '%';

      let storedMuted = localStorage.getItem(LS_KEY_MUTED);
      if(storedMuted === 'true') {
        audio.muted = true;
      }

      function updateLabel(){
        btn.textContent = audio.muted ? 'Activar sonido' : 'Silenciar';
      }

      btn.addEventListener('click', () => {
        audio.muted = !audio.muted;
        localStorage.setItem(LS_KEY_MUTED, audio.muted);
        updateLabel();
        if(!audio.muted){
          audio.play().catch(()=>{});
        }
      });

      volSlider.addEventListener('input', () => {
        const v = parseFloat(volSlider.value);
        audio.volume = v;
        volLabel.textContent = Math.round(v * 100) + '%';
        localStorage.setItem(LS_KEY_VOL, v);
        if(audio.muted && v > 0) {
          audio.muted = false;
          localStorage.setItem(LS_KEY_MUTED, 'false');
          updateLabel();
          audio.play().catch(()=>{});
        }
      });

      // Intentar reproducir silenciosamente al primer click si el usuario interactúa
      document.addEventListener('click', function once(){
        if(audio.paused && !audio.muted){ audio.play().catch(()=>{}); }
        document.removeEventListener('click', once);
      });

      updateLabel();
    })();
  </script>

  <!-- NAV / MAIN / rest of your content (unchanged) -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="#top">Portfolio</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav ms-3 mb-2 mb-lg-0 gap-lg-2">
          <li class="nav-item"><a class="nav-link" href="#sobre-mi">Sobre mí</a></li>
          <li class="nav-item"><a class="nav-link" href="#experiencia">Experiencia</a></li>
          <li class="nav-item"><a class="nav-link" href="#proyectos">Proyectos</a></li>
          <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header id="sobre-mi" class="py-5 bg-light border-bottom">
    <div class="container">
      <div class="row align-items-center g-4">
        <div class="col-12 col-md-3 text-center">
          <img src="FotoFormal.jpeg" alt="Foto de Tomás Romero Cejudo" class="hero-img img-fluid" />
        </div>
        <div class="col-12 col-md-9 text-center text-md-start">
          <h1 class="display-5 fw-bold mb-3">Tomás Romero Cejudo</h1>
          <p class="lead mb-3">Ingeniero de software con <strong>5 años de experiencia</strong> en desarrollo web full stack. Apasionado por crear soluciones limpias, escalables y centradas en el usuario.</p>
          <div class="d-flex flex-wrap gap-2 justify-content-center justify-content-md-start">
            <span class="badge text-bg-primary tech-badge">Java</span>
            <span class="badge text-bg-success tech-badge">Python</span>
            <span class="badge text-bg-warning text-dark tech-badge">JavaScript</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- (El resto del contenido lo puedes mantener igual; por brevedad lo he omitido) -->

  <!-- Bootstrap JS (CDN oficial sin integrity) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>